<!doctype html>
<html lang="en-us">
  <head>
    <title>Expresif ESP8266 Wifi Module // The Githuka&#39;s Notebook</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.87.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Wilfred Githuka" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://githuka.com/css/main.min.88e7083eff65effb7485b6e6f38d10afbec25093a6fac42d734ce9024d3defbd.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Expresif ESP8266 Wifi Module"/>
<meta name="twitter:description" content="The ESP8266 WiFi Module is a self contained SOC with integrated TCP/IP protocol stack that can give any microcontroller access to your WiFi network. The ESP8266 is capable of either hosting an application or offloading all Wi-Fi networking functions from another application processor. Each ESP8266 module comes pre-programmed with an AT command set firmware, meaning, you can simply hook this up to your Arduino device and get about as much WiFi-ability as a WiFi Shield offers (and that’s just out of the box)!"/>

    <meta property="og:title" content="Expresif ESP8266 Wifi Module" />
<meta property="og:description" content="The ESP8266 WiFi Module is a self contained SOC with integrated TCP/IP protocol stack that can give any microcontroller access to your WiFi network. The ESP8266 is capable of either hosting an application or offloading all Wi-Fi networking functions from another application processor. Each ESP8266 module comes pre-programmed with an AT command set firmware, meaning, you can simply hook this up to your Arduino device and get about as much WiFi-ability as a WiFi Shield offers (and that’s just out of the box)!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://githuka.com/posts/esp8266/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-13T15:58:07+03:00" />
<meta property="article:modified_time" content="2021-07-13T15:58:07+03:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://githuka.com"><img class="app-header-avatar" src="https://avic-storage.ap-south-1.linodeobjects.com/7964520.png" alt="Wilfred Githuka" /></a>
      <h1>The Githuka&#39;s Notebook</h1>
      <p>Never Stop Writing - Teach The World</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/wilfredgithuka" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://twitter.com/wilfredgithuka" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>twitter</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Expresif ESP8266 Wifi Module</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jul 13, 2021
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </div></div>
    </header>
    <div class="post-content">
      <p>The ESP8266 WiFi Module is a self contained SOC with integrated TCP/IP protocol stack that can give any microcontroller access to your WiFi network. The ESP8266 is capable of either hosting an application or offloading all Wi-Fi networking functions from another application processor. Each ESP8266 module comes pre-programmed with an AT command set firmware, meaning, you can simply hook this up to your Arduino device and get about as much WiFi-ability as a WiFi Shield offers (and that’s just out of the box)! The ESP8266 module is an extremely cost effective board with a huge, and ever growing, community.</p>
<p>集成 Wi-Fi 芯片 ESP8266，设计紧凑、集成度高、RF 性能突出。通过 SRRC, FCC, CE 等多国无线电认证，适用于各类物联网应用场景。</p>
<h2 id="features">Features</h2>
<ul>
<li>Low cost, compact and powerful devices</li>
<li>Vcc: 3.3V</li>
<li>Current draw: 100mA</li>
<li>Volage(Working for I/O): 3.6V MAX</li>
<li>Source current: 12mA</li>
<li>MCU: 32bit @80Mhz low power</li>
<li>Working Modes: Station and Access Point</li>
<li>Deep Sleep: &lt;10uA</li>
<li>Comms: Serial Communication</li>
<li>Language: Arduinio | AT | Luascript</li>
</ul>
<h2 id="at-commands-reference">AT Commands Reference</h2>
<p>In AT commands, AT stands for Attention and these commands are used for controlling MODEMs. These types of commands are taken from the commands like Hayes.</p>
<p>The ESP8266 AT has a total of 88 Commands Set is divided into three categories. They are:</p>
<ul>
<li>23 Basic AT Commands</li>
<li>40 WiFi AT Commands</li>
<li>25 TCP/IP AT Commands</li>
</ul>
<p>The <a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf">official manual</a> has a broader explanation of all of the commands.</p>
<h2 id="basic-at-commands">Basic AT Commands</h2>
<ul>
<li>AT &ndash; OK</li>
<li>AT+RST &ndash; OK Can be used to reset/restart the module</li>
<li>AT+GMR &ndash; <!-- raw HTML omitted --> <!-- raw HTML omitted --> <!-- raw HTML omitted --> OK</li>
</ul>
<h2 id="wifi-at-commands">Wifi AT Commands</h2>
<p>The WiFi AT Commands are useful in controlling the WiFi features of the ESP8266 Module like setting up the WiFi Mode of operation, get the list of WiFi Networks, connect to a WiFi Network, setup the Access Point (AP), control DHCP, WPS, MAC Address, IP Address etc.</p>
<ul>
<li>AT+CWMODE:1 &ndash; OK Used to set the mode of the Wifi device. 1-Station, 2-Access Point, 3-Station+AP</li>
<li>AT+CWJAP: List available wifi in the area</li>
<li>AT+CWLAP Connect to an access point</li>
<li>AT+CWQAP Disconnect the ESP8266 from an Access Point.</li>
<li>AT+CIPSTA Set a static IP Address to the ESP8266 WiFi Module in Station Mode.</li>
<li>AT+CWSAP Configure the ESP8266 WiFi Module in Soft Access Point (AP) Mode.</li>
<li>AT+CWLIF Get the IP addresses of Stations that are connected to ESP8266 while in AP mode.</li>
</ul>
<h2 id="tcpip-at-commands">TCP/IP AT Commands</h2>
<p>This TCP/IP AT Command of the ESP8266 WiFi Module get the information or status of the connection.</p>
<ul>
<li>AT+CIPSTATUS</li>
<li>AT+CIPSTART</li>
<li>AT+CIFSR</li>
<li>AT+CIPMUX</li>
<li>AT+CIPSERVER</li>
<li>AT+CIUPDATE</li>
</ul>
<h2 id="setup">Setup</h2>
<p>There are 2 ways of connecting the ESP8266 wifi module:</p>
<ul>
<li>Arduino Board</li>
<li>FTDI Breakout Board</li>
</ul>
<h2 id="arduino-board-connection">Arduino Board connection</h2>
<p>In this connection, I shall be using an Arduno UNO board running connected to
a Linux computer. Ensure that your packages are upto date before beginning.</p>
<pre><code>pacman -Syu
</code></pre><h2 id="connection-description">Connection description</h2>
<p>The ESP8266 has 6 pins, namely:</p>
<ul>
<li>GND</li>
<li>TX</li>
<li>GPIO2</li>
<li>CH_EN</li>
<li>GPIO1</li>
<li>RESET</li>
<li>RX</li>
<li>Vcc</li>
</ul>
<p>From the above diagram, connect the:</p>
<ul>
<li>GND pin to the Arduino&rsquo;s GND Power pin.</li>
<li>TX pin to Arduino&rsquo;s DIGITAL 2 pin</li>
<li>CH_EN to 1kOhm Resistor then to Arduino&rsquo;s 3.3V pin</li>
<li>Vcc pin to Arduino&rsquo;s 3.3V pin</li>
<li>RX pin to Arduino&rsquo;s DIGITAL 3 pin</li>
</ul>
<p>Connect the Arduino UNO board to the Computer</p>
<p>Start Arduino and enter the following code:</p>
<pre><code>#include &lt;SoftwareSerial.h&gt;

SoftwareSerial ESPserial(2, 3); // RX | TX

void setup()

{

Serial.begin(115200); // communication with the host computer

//while (!Serial) { ; }

// Start the software serial for communication with the ESP8266

ESPserial.begin(115200);

Serial.println(&quot;&quot;);

Serial.println(&quot;Remember to to set Both NL &amp; CR in the serial monitor.&quot;);

Serial.println(&quot;Ready&quot;);

Serial.println(&quot;&quot;);

}

void loop()

{

// listen for communication from the ESP8266 and then write it to the serial monitor

if ( ESPserial.available() ) { Serial.write( ESPserial.read() ); }

// listen for user input and send it to the ESP8266

if ( Serial.available() ) { ESPserial.write( Serial.read() ); }

}
</code></pre><p>Check your code, ensure you select the correct board then upload it.</p>
<p>Sketch uses 3350 bytes (10%) of program storage space. Maximum is 32256 bytes.
Global variables use 365 bytes (17%) of dynamic memory, leaving 1683 bytes for local variables. Maximum is 2048 bytes.</p>
<p>Open the Serial Monitor window and you shall see the following.</p>
<pre><code>Remember to to set Both NL &amp; CR in the serial monitor.
Ready

</code></pre><h3 id="baud-rates">Baud Rates</h3>
<p>The default baud rate in Arduino is 9600 bps (bits per second). We can specify other baud rates as well, such as 4800, 14400, 38400, 28800, etc.</p>
<p><img src="https://qph.fs.quoracdn.net/main-qimg-325de4c0c513dea3c22b054ef9b6e1d2.webp" alt="baud_rates"></p>
<ul>
<li>Enter the commans AT and you should get an OK response. Now go back to the code and change
the baud_rate to 9600. See below:</li>
</ul>
<pre><code>Serial.begin(9600); // communication with the host computer

//while (!Serial) { ; }

// Start the software serial for communication with the ESP8266

ESPserial.begin(9600);
</code></pre><p>Re-Upload the changes and change the baud_rate in the Serial Monitor window to 9600, the output should
now be visible.</p>
<h2 id="connect-to-wifi">Connect to WiFi</h2>
<p>The following code snippet will connect to Wifi</p>
<pre><code>OK
AT+CWMODE=1


OK
AT+CWLAP

+CWLAP:(4,&quot;machine&quot;,-86,&quot;14:4d:67:97:1e:d4&quot;,1,-42,0)
+CWLAP:(3,&quot;CMT_M-F3&quot;,-77,&quot;e4:83:26:a1:7e:98&quot;,5,-22,0)
+CWLAP:(3,&quot;WAIRIMU&quot;,-66,&quot;78:17:be:1e:7a:08&quot;,9,-14,0)

OK
AT+CWJAP=&quot;your-ssid&quot;,&quot;your-password&quot;

WIFI CONNECTED
WIFI GOT IP

OK
AT+CIFSR

+CIFSR:STAIP,&quot;192.168.xxx.xxx&quot;
+CIFSR:STAMAC,&quot;84:0d:8e:a4:8b:af&quot;

OK

</code></pre><h1 id="references">References</h1>
<ul>
<li><a href="https://create.arduino.cc/projecthub/neverofftheinternet/esp8266-setup-and-first-wifi-connection-76fc3c">Create.arduino.cc</a></li>
<li><a href="https://www.electronicshub.org/esp8266-at-commands/">Electronics Hub</a></li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf">ESP8266 - AT Instruction Set Manual</a></li>
</ul>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
